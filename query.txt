############### Query & Description ###############

- Homepage -

1. Search top 100 artists with the most events

SELECT COUNT(*) event_num, e.name FROM Events e 
JOIN Artist a ON a.id = e.artist_id
GROUP BY e.name
ORDER BY e.event_num DESC

2. Upcoming events in 30 days

SELECT name FROM Event 
ORDER BY Time DESC

3. Sign up

INSERT INTO User (id, password, username) 
VALUES 
      (value_list_id), 
      (value_list_password), 
      (value_list_username); 

4. Log in 

SELECT password from User WHERE id = ""



- Artists Page -
5. Show all artists

SELECT Name, DOB, Image, Genre
FROM Artists;

6. Rank artists by event counts and show their info

WITH TEMP AS (
SELECT ArtistId, COUNT(*) AS NumEvents
FROM Participation 
GROUP BY UserId)
SELECT A.Name, A.DOB, A.Image, A.Genre, T.NumEvents
FROM Artists A JOIN TEMP T ON T.ArtistId = A.Id;

7. Search an artist

SELECT A.Name, A.DOB, A.Image, A.Genre
FROM Artists A
WHERE A.Name = “Justin Bieber”;

8.View artist’s songs 

SELECT S.Name, S.DatePub, S.Image
FROM Songs S JOIN Artists A ON A.Id = S.ArtistId
WHERE A.Name = “Justin Bieber”; 

9. View artist-participated events on their event page

SELECT E.Name, E.Date, E.Image, E.Price, E.Location
FROM Artist A JOIN Participation P ON A.Id = P.ArtistId JOIN Events E ON E.Id = P.EventID
WHERE A.Name = “Justin Bieber”;

- Events Page -

10. Show all upcoming events and their corresponding venues, and order events by their dates
SELECT Name, Image, Price, Date, Address, City, State, PostalCode, Country
FROM Event E JOIN Venue V ON E.Location = V.Id
WHERE Date > ‘2022-11-20’
ORDER BY Date;

11. Search an event based on substring of event name
SELECT Id
FROM Event
WHERE Name LIKE ‘%Mayday Concert%’
ORDER BY Date, Name;

12. Rank events based on the popularity of the artists in the event. Popularity is measured by the number of followers of the artists.
WITH Popularity AS (
SELECT Id, COUNT(DISTINCT UserId) AS Pop
FROM Events E JOIN Participation P ON E.Id = P.EventId JOIN Follow F ON P.ArtistId = F.ArtistId
GROUP BY Id
)
SELECT Name, Image, Price, Date, Address, City, State, PostalCode, Country
FROM Event E JOIN Venue V ON E.Location = V.Id JOIN Popularity P on P.Id = E.Id
ORDER BY Pop;

############### Credential ###############
